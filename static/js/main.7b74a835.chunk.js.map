{"version":3,"sources":["context/AppContext.js","context/AppProvider.jsx","assets/icons/aerolab-logo.svg","assets/icons/coin.svg","hooks/useFetch.js","api/services.js","components/loader/Loader.jsx","components/header/Header.jsx","components/pageTitle/PageTitle.jsx","components/template/Template.jsx","assets/icons/buy-blue.svg","assets/icons/buy-white.svg","components/products/sorters/Sorters.jsx","components/products/pageIndicator/PageIndicator.jsx","components/products/pagination/Pagination.jsx","components/modal/Modal.jsx","components/products/Products.jsx","pages/home/Home.jsx","components/squareButton/SquareButton.jsx","pages/getPoints/GetPoints.jsx","pages/history/History.jsx","app/App.jsx","index.js"],"names":["AppContext","createContext","availableCoins","setAvailableCoins","AppProvider","children","useState","state","setState","Provider","value","prevState","INITIAL_ERROR","isDetected","error","INITIAL_SUCCESS","ok","res","useFetch","setError","success","setSuccess","loading","setLoading","fetchService","service","successFn","failFn","a","fetch","endpoint","initObj","json","dataResponse","Error","message","statusText","console","BASE_URL","INIT","headers","Accept","Authorization","serviceObject","this","Loader","customClass","className","Header","useContext","fallen","setFallen","useEffect","data","points","to","src","logo","alt","name","onAnimationEnd","coin","PageTitle","pathname","useLocation","useMemo","path","includes","Template","sortTask","lowest","list","slice","sort","b","cost","highest","byCategory","category","localeCompare","INITIAL_SORTS","Sorters","setProducts","originProducts","activeSorts","setActiveSorts","handlerPriceSorting","target","prev","id","selectedSort","Object","keys","find","s","onClick","disabled","length","PageIndicator","current","total","Pagination","from","setPage","totalLength","page","Modal","show","type","okCallback","UNDEFINED","INITIAL_MODAL","Products","lRedeem","fetchRedeem","dataProducts","setDataProducts","modal","setModal","range","handlerRedeem","productId","body","JSON","stringify","method","setRedeem","err","map","img","_id","url","hdUrl","isEnoughPoints","buyBlue","buyWhite","Home","SquareButton","amount","isNaN","setPoints","newPoints","Number","GetPoints","History","historyData","reverse","createDate","date","Date","getTime","toLocaleString","App","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b74a835.chunk.js","sourcesContent":["// react\nimport { createContext } from \"react\";\n\nexport const AppContext = createContext({\n  availableCoins: 0,\n  setAvailableCoins: () => {},\n});\n","import { useState } from \"react\";\nimport { AppContext } from \"./AppContext\";\n\nfunction AppProvider({ children }) {\n  const [state, setState] = useState({ availableCoins: 0 });\n\n  const setAvailableCoins = (availableCoins) => {\n    setState((prevState) => ({ ...prevState, availableCoins }));\n  };\n  // https://stackoverflow.com/questions/41030361/how-to-update-react-context-from-inside-a-child-component\n\n  return (\n    <AppContext.Provider value={{ state, setAvailableCoins }}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport default AppProvider;\n","export default __webpack_public_path__ + \"static/media/aerolab-logo.0a8fb170.svg\";","export default __webpack_public_path__ + \"static/media/coin.b8bc711d.svg\";","import { useState } from \"react\";\n\nconst INITIAL_ERROR = { isDetected: false, error: null };\nconst INITIAL_SUCCESS = { ok: false, res: null };\n\nfunction useFetch() {\n  const [error, setError] = useState(INITIAL_ERROR);\n  const [success, setSuccess] = useState(INITIAL_SUCCESS);\n  const [loading, setLoading] = useState(false);\n\n  const fetchService = async (service, successFn, failFn) => {\n    setSuccess(INITIAL_SUCCESS);\n    setError(INITIAL_ERROR);\n    setLoading(true);\n    try {\n      const res = await fetch(service.endpoint, service.initObj);\n      const dataResponse = await res.json();\n      if (!res.ok) {\n        throw new Error(\n          dataResponse.message || res.statusText || \"Connection error\"\n        );\n      }\n      setSuccess({ ok: true, res: dataResponse });\n      setError(INITIAL_ERROR);\n      if (typeof successFn === \"function\") successFn(dataResponse);\n    } catch (error) {\n      console.error(error);\n      setSuccess(INITIAL_SUCCESS);\n      setError({ isDetected: true, error: error.message });\n      if (typeof failFn === \"function\") failFn(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { success, error, loading, fetchService };\n}\n\nexport default useFetch;\n","const TOKEN =\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTIyNTc4YjNiYTYyNzAwMjE3YTMyYTciLCJpYXQiOjE2Mjk2NDA1ODd9.4ASFGTRdXNBgTQ9Nfhn3xlypgkGUWiVB5tWF5u9uiNI\";\nconst BASE_URL = \"https://coding-challenge-api.aerolab.co/\";\n\nconst INIT = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n    Authorization: `Bearer ${TOKEN}`,\n  },\n};\n\nfunction serviceObject(endpoint, initObj) {\n  this.endpoint = endpoint;\n  this.initObj = initObj;\n}\n\nexport function getProfile() {\n  return new serviceObject(`${BASE_URL}user/me`, { ...INIT });\n}\n\n// amount must be a number\nexport function setPoints(amount) {\n  if (isNaN(amount)) throw Error(\"Incorrect amount.\");\n  const body = JSON.stringify({ amount });\n  const initObj = {\n    body,\n    method: \"POST\",\n  };\n  return new serviceObject(`${BASE_URL}user/points`, { ...INIT, ...initObj });\n}\n\nexport function getProducts() {\n  return new serviceObject(`${BASE_URL}products`, { ...INIT });\n}\n\n// amount must be a string\nexport function setRedeem(productId) {\n  const body = JSON.stringify({ productId });\n  const initObj = {\n    body,\n    method: \"POST\",\n  };\n  return new serviceObject(`${BASE_URL}redeem`, { ...INIT, ...initObj });\n}\n\nexport function getHistory() {\n  return new serviceObject(`${BASE_URL}user/history`, { ...INIT });\n}\n","// styles\nimport \"./loader.css\";\n\nfunction Loader({ customClass = \"\" }) {\n  return <div className={`lds-dual-ring ${customClass}`}></div>;\n}\n\nexport default Loader;\n","// libraries\nimport { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"../../context/AppContext\";\nimport { Link } from \"react-router-dom\";\n\n// styles\nimport \"./header.scss\";\nimport logo from \"../../assets/icons/aerolab-logo.svg\";\nimport coin from \"../../assets/icons/coin.svg\";\n\n// hooks\nimport useFetch from \"../../hooks/useFetch\";\n\n// services\nimport { getProfile } from \"../../api/services\";\n\n// components\nimport Loader from \"../loader/Loader\";\n\nfunction Header() {\n  const { success, error, loading, fetchService } = useFetch();\n  const {\n    state: { availableCoins },\n    setAvailableCoins,\n  } = useContext(AppContext);\n  const [fallen, setFallen] = useState(0);\n\n  useEffect(() => {\n    fetchService(getProfile(), (data) => {\n      setAvailableCoins(data.points || 0);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // animation: https://dev.to/samwatts98/how-to-easily-animate-your-react-components-on-click-with-css-keyframes-26mg\n  useEffect(() => {\n    setFallen(1);\n  }, [availableCoins]);\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/\" className=\"link-logo\">\n        <img src={logo} alt=\"company logo\" />\n      </Link>\n      <div className=\"right-section\">\n        {success.ok && (\n          <>\n            <Link to=\"/history\" className=\"name\">\n              {success.res.name || \"...\"}\n            </Link>\n            <Link to=\"/getPoints\" className=\"score\">\n              <span\n                className=\"coins-number\"\n                onAnimationEnd={() => setFallen(0)}\n                fallen={fallen}\n              >\n                {availableCoins}\n              </span>\n              <img src={coin} alt=\"coin\" />\n            </Link>\n          </>\n        )}\n        {loading && <Loader />}\n        {error.isDetected && <i>Not found data.</i>}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","// libraries\nimport { useMemo } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\n// styles\nimport \"./page-title.scss\";\n\n/**\n * Tool to mapping the title page according with the URL\n * @param {string} path of url\n * @returns string of the title of the page\n */\nfunction getTitle(path) {\n  if (path === \"/\") return \"Electronics\";\n  if (path.includes(\"getPoints\")) return \"Get Points\";\n  if (path.includes(\"history\")) return \"Your history\";\n  return \"Electronics\";\n}\n\nfunction PageTitle() {\n  const { pathname } = useLocation();\n\n  return useMemo(() => {\n    return (\n      <div className=\"page-title\">\n        <h1 className=\"title\">{getTitle(pathname)}</h1>\n      </div>\n    );\n  }, [pathname]);\n}\n\nexport default PageTitle;\n","import \"./template.scss\";\n\n// components\nimport Header from \"../../components/header/Header\";\nimport PageTitle from \"../../components/pageTitle/PageTitle\";\n\nfunction Template({ children }) {\n  return (\n    <>\n      <Header />\n      <PageTitle />\n      <main className=\"container\">{children}</main>\n    </>\n  );\n}\n\nexport default Template;\n","export default __webpack_public_path__ + \"static/media/buy-blue.c5c4f01c.svg\";","export default __webpack_public_path__ + \"static/media/buy-white.9b6e6567.svg\";","// styles\nimport { useEffect, useState } from \"react\";\nimport \"./sorters.scss\";\n\nconst sortTask = {\n  lowest: (list) =>\n    list.slice().sort((a, b) => {\n      if (a.cost === b.cost) return 0;\n      if (a.cost > b.cost) {\n        return 1;\n      }\n      return -1;\n    }),\n  highest: (list) =>\n    list.slice().sort((a, b) => {\n      if (a.cost === b.cost) return 0;\n      if (a.cost < b.cost) {\n        return 1;\n      }\n      return -1;\n    }),\n  byCategory: (list) =>\n    list.slice().sort((a, b) => a.category.localeCompare(b.category)),\n};\n\nconst INITIAL_SORTS = {\n  lowest: false,\n  highest: false,\n  byCategory: false,\n};\n\nfunction Sorters({ setProducts = () => {}, originProducts = [] }) {\n  const [activeSorts, setActiveSorts] = useState(INITIAL_SORTS);\n\n  const handlerPriceSorting = ({ target }) => {\n    setActiveSorts((prev) => ({\n      ...INITIAL_SORTS,\n      [target.id]: !prev[target.id],\n    }));\n  };\n\n  useEffect(() => {\n    let selectedSort = Object.keys(activeSorts).find(\n      (s) => activeSorts[s] === true\n    );\n    if (!selectedSort) {\n      setProducts(originProducts);\n    } else {\n      setProducts(sortTask[selectedSort]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeSorts]);\n\n  return (\n    <>\n      <span className=\"subtitle\">Sort by:</span>\n      <button\n        id=\"byCategory\"\n        onClick={handlerPriceSorting}\n        disabled={originProducts.length < 1}\n        className={`sort-button${\n          activeSorts.byCategory ? \" selected-button\" : \"\"\n        }`}\n      >\n        Category\n      </button>\n      <button\n        id=\"lowest\"\n        onClick={handlerPriceSorting}\n        disabled={originProducts.length < 1}\n        className={`sort-button${activeSorts.lowest ? \" selected-button\" : \"\"}`}\n      >\n        Lowest price\n      </button>\n      <button\n        id=\"highest\"\n        onClick={handlerPriceSorting}\n        disabled={originProducts.length < 1}\n        className={`sort-button${\n          activeSorts.highest ? \" selected-button\" : \"\"\n        }`}\n      >\n        Highest price\n      </button>\n    </>\n  );\n}\n\nexport default Sorters;\n","import \"./page-indicator.scss\";\n\nfunction PageIndicator({ current = 0, total = 0 }) {\n  return (\n    <span className=\"page\">\n      {current} of {total} products\n    </span>\n  );\n}\n\nexport default PageIndicator;\n","import \"./pagination.scss\";\n\nfunction Pagination({ from, to, setPage, totalLength }) {\n  return (\n    <div>\n      {from > 0 && (\n        <button\n          onClick={() => setPage((page) => page - 1)}\n          className=\"sort-button pagination-button\"\n        >\n          {\"<\"}\n        </button>\n      )}\n      {to < totalLength - 1 && (\n        <button\n          onClick={() => setPage((page) => page + 1)}\n          className=\"sort-button pagination-button\"\n        >\n          {\">\"}\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default Pagination;\n","import \"./modal.scss\";\n\nfunction Modal({\n  show = false,\n  type = \"success\", // or \"error\"\n  message = \"successful message example 5px 2px 2px #999999; 5px 2px 2px #999999; 5px 2px 2px #999999;\",\n  okCallback = () => {},\n}) {\n  if (!show) return null;\n  return (\n    <div className=\"bg-modal\">\n      <div className=\"modal\" type={type}>\n        <span className=\"emoji\">{type === \"success\" ? \"🤩\" : \"😕\"}</span>\n        <h3 className=\"title\">{type === \"success\" ? \"Success!\" : \"Error\"}</h3>\n        <span>{message}</span>\n        <button type={type} className=\"ok-button\" onClick={okCallback}>\n          Got it!\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","// react\nimport { useEffect, useState, useContext } from \"react\";\nimport { AppContext } from \"../../context/AppContext\";\n\n// services\nimport { getProducts, setRedeem } from \"../../api/services\";\nimport useFetch from \"../../hooks/useFetch\";\n\n// styles\nimport \"./products.scss\";\nimport buyBlue from \"../../assets/icons/buy-blue.svg\";\nimport buyWhite from \"../../assets/icons/buy-white.svg\";\nimport coin from \"../../assets/icons/coin.svg\";\n\n// components\nimport Loader from \"../loader/Loader\";\nimport Sorters from \"./sorters/Sorters\";\nimport PageIndicator from \"./pageIndicator/PageIndicator\";\nimport Pagination from \"./pagination/Pagination\";\nimport Modal from \"../modal/Modal\";\n\nconst UNDEFINED = \"...\";\nconst INITIAL_MODAL = { show: false, type: \"success\", message: \"\" };\n\nfunction Products() {\n  const { success, error, loading, fetchService } = useFetch();\n  const { loading: lRedeem, fetchService: fetchRedeem } = useFetch();\n  const {\n    setAvailableCoins,\n    state: { availableCoins },\n  } = useContext(AppContext);\n  const [dataProducts, setDataProducts] = useState([]);\n  const [page, setPage] = useState(0);\n  const [modal, setModal] = useState(INITIAL_MODAL);\n  const res = success.res || [];\n\n  // prettier-ignore\n  const range = {\n    from: page <= 0 ? 0 : 16 * page,\n    to: 16 * (page + 1),\n  }\n\n  useEffect(() => {\n    fetchService(getProducts(), (res) => {\n      setDataProducts(res);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handlerRedeem = (id, cost) => () => {\n    fetchRedeem(\n      setRedeem(id),\n      (res) => {\n        setModal({\n          show: true,\n          type: \"success\",\n          message: res.message || \"Success redeeming!\",\n        });\n        setAvailableCoins(availableCoins - cost);\n      },\n      (err) => {\n        setModal({\n          show: true,\n          type: \"error\",\n          message: err.message || \"Not redeemed!\",\n        });\n      }\n    );\n  };\n\n  return (\n    <>\n      <div className=\"sorters-container\">\n        <PageIndicator current={range.to} total={res.length} />\n        <Sorters setProducts={setDataProducts} originProducts={res} />\n        <Pagination\n          from={range.from}\n          to={range.to}\n          setPage={setPage}\n          totalLength={res.length}\n        />\n      </div>\n      {loading && <Loader customClass=\"loader-margin\" />}\n      <div className=\"products-container\">\n        {dataProducts\n          .slice(range.from, range.to)\n          .map(\n            ({\n              name = UNDEFINED,\n              category = UNDEFINED,\n              cost = UNDEFINED,\n              img = {},\n              _id,\n            }) => {\n              const { url = null, hdUrl = null } = img;\n              const isEnoughPoints = availableCoins - cost >= 0;\n              return (\n                <div className=\"cell\">\n                  <div className=\"card\" key={_id + name}>\n                    {isEnoughPoints ? (\n                      <img\n                        src={buyBlue}\n                        alt=\"enough points\"\n                        className=\"img-availability\"\n                      />\n                    ) : (\n                      <div className=\"needed\">\n                        <span className=\"text-needed\">\n                          You need {cost - availableCoins}\n                        </span>\n                        <img src={coin} alt=\"points\" />\n                      </div>\n                    )}\n                    <img\n                      src={hdUrl || url}\n                      alt={name}\n                      className=\"img-product\"\n                    />\n                    <span className=\"text category\">{category}</span>\n                    <span className=\"text\">{name}</span>\n                  </div>\n                  {isEnoughPoints && (\n                    <div className=\"card upon\">\n                      <img\n                        src={buyWhite}\n                        alt=\"enough points\"\n                        className=\"img-availability upon-image\"\n                      />\n                      <div className=\"cost-container\">\n                        <span className=\"coins-number\">{cost}</span>\n                        <img src={coin} alt=\"coin\" className=\"coin\" />\n                      </div>\n                      <button\n                        className=\"redeem-button\"\n                        onClick={handlerRedeem(_id, cost)}\n                        disabled={lRedeem}\n                      >\n                        Redeem now\n                        {lRedeem && <Loader />}\n                      </button>\n                    </div>\n                  )}\n                </div>\n              );\n            }\n          )}\n        {error.isDetected && <p>{error.error}</p>}\n      </div>\n      {res.length > 0 && (\n        <div className=\"sorters-container\">\n          <PageIndicator current={range.to} total={res.length} />\n          <Pagination\n            from={range.from}\n            to={range.to}\n            setPage={setPage}\n            totalLength={res.length}\n          />\n        </div>\n      )}\n      <Modal {...modal} okCallback={() => setModal(INITIAL_MODAL)} />\n    </>\n  );\n}\n\nexport default Products;\n","// components\nimport Products from \"../../components/products/Products\";\n\nfunction Home() {\n  return <Products />;\n}\n\nexport default Home;\n","// react\nimport { useContext } from \"react\";\nimport { AppContext } from \"../../context/AppContext\";\n\n// hooks\nimport useFetch from \"../../hooks/useFetch\";\n\n// styles\nimport \"./square-button.scss\";\n\n// components\nimport Loader from \"../loader/Loader\";\nimport { setPoints } from \"../../api/services\";\n\nfunction SquareButton({ points }) {\n  const { error, loading, fetchService } = useFetch();\n  const { setAvailableCoins } = useContext(AppContext);\n\n  const handlerButton = () => {\n    fetchService(setPoints(points), (res) => {\n      const newPoints = Number(res[\"New Points\"]);\n      if (!Number.isNaN(newPoints)) {\n        setAvailableCoins(newPoints);\n      }\n    });\n  };\n\n  return (\n    <button className=\"add-button\" onClick={handlerButton} disabled={loading}>\n      <b className=\"point-text\">{points}</b>\n      <span>puntos</span>\n      {loading && <Loader />}\n      {error.isDetected && <i>¡Asignación fallida!</i>}\n    </button>\n  );\n}\n\nexport default SquareButton;\n","// styles\nimport \"./get-points.scss\";\n\n// components\nimport SquareButton from \"../../components/squareButton/SquareButton\";\n\nfunction GetPoints() {\n  return (\n    <>\n      <h2 className=\"points-title\">Agrega puntos:</h2>\n      <div className=\"points-container\">\n        <SquareButton points={1000} />\n        <SquareButton points={5000} />\n        <SquareButton points={7500} />\n      </div>\n    </>\n  );\n}\n\nexport default GetPoints;\n","import { useEffect } from \"react\";\nimport { getHistory } from \"../../api/services\";\nimport Loader from \"../../components/loader/Loader\";\nimport useFetch from \"../../hooks/useFetch\";\nimport \"./history.scss\";\n\nfunction History() {\n  const { success, error, loading, fetchService } = useFetch();\n  const historyData = success.res?.slice()?.reverse() || [];\n\n  useEffect(() => {\n    fetchService(getHistory());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"container-history\">\n      <h2 className=\"column-title\">Product</h2>\n      <h2 className=\"column-title\">Category</h2>\n      <h2 className=\"column-title\">Date</h2>\n      <h2 className=\"column-title\">Cost</h2>\n      {loading && <Loader customClass=\"one-row\" />}\n      {error.isDetected && <span className=\"one-row\">{error.error}</span>}\n      {historyData.map(\n        ({\n          name = \"\",\n          category = \"\",\n          cost = \"...\",\n          createDate = \"...\",\n          img = {\n            url: \"\",\n            hdUrl: \"\",\n          },\n        }) => {\n          const date = new Date(createDate);\n          return (\n            <>\n              <div>\n                <img src={img.url} alt={name} className=\"img-name\" />\n                <span className=\"name\">{name}</span>\n              </div>\n              <span>{category}</span>\n              <span className=\"date\">\n                {!isNaN(date.getTime()) && date.toLocaleString()}\n              </span>\n              <span>$ {cost}</span>\n            </>\n          );\n        }\n      )}\n    </div>\n  );\n}\n\nexport default History;\n","// react\nimport { StrictMode } from \"react\";\n\n// react-router\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\n// styles\nimport \"./App.scss\";\nimport \"../sass/_keyframes.scss\";\n\n// components\nimport AppProvider from \"../context/AppProvider\";\nimport Template from \"../components/template/Template\";\nimport Home from \"../pages/home/Home\";\nimport GetPoints from \"../pages/getPoints/GetPoints\";\nimport History from \"../pages/history/History\";\n\nfunction App() {\n  return (\n    <StrictMode>\n      <AppProvider>\n        <BrowserRouter>\n          <Template>\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route exact path=\"/history\">\n                <History />\n              </Route>\n              <Route exact path=\"/getPoints\">\n                <GetPoints />\n              </Route>\n              <Route path=\"*\">\n                <Home />\n              </Route>\n            </Switch>\n          </Template>\n        </BrowserRouter>\n      </AppProvider>\n    </StrictMode>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}